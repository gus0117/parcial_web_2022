<section class="container">
    <h1 class="display-3 text-center">YouTube Search</h1>
    
    <!-- FORMULARIO DE BUSQUEDA -->
    <div class="container w-50">
        <form novalidate (ngSubmit)="realizarBusqueda()" #busquedaForm="ngForm">
            <div class="mb-3">
                <label for="busqueda" class="form-label">Escribe lo que deseas buscar en youtube</label>
                <input type="text" class="form-control" id="busqueda" placeholder="Gol Messi a Francia" name="busqueda" [(ngModel)]="busqueda" required>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="!busquedaForm.form.valid">Buscar</button>
            <button type="reset" class="btn btn-success ms-3" (click)="limpiarBusqueda()">Limpiar</button>
        </form>
    </div>

    <!-- INFORMCION DE UN ITEM -->
    <div class="continer my-4 bg-info" *ngIf="video.id !== undefined">
        <h3>Información del video</h3>
        <div class="row">
            <div class="col-6">
                <p>Título: {{video.title}}</p>
                <p>Link: <a href={{video.url}} target="_blank">{{video.url}}</a></p>
                <p>Subido el: {{video.uploadedAt}}</p>
                <p>Duración: {{video.duration_formatted}}</p>
                <p>Vistas: {{video.views}}</p>
            </div>
            <div class="col-6">
                <img src={{video.channelIcon}} alt="" width="200px" height="200px">
            </div>
        </div>
    </div>

    <!-- RESULTADOS -->
    <div class="container table-responsive my-4" *ngIf="resultados.length != 0">
        <h4>Resultados</h4>
        <table class="table table-striped table-hover align-middle">
            <thead>
              <tr>
                <th scope="col">ID Video</th>
                <th scope="col">Título</th>
                <th scope="col">Enlace al video</th>
                <th scope="col">Canal YouTube</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of resultados">
                <th scope="row">
                    <p (click)="mostrarInfo(item.id)">
                        {{item.id}}
                    </p>
                </th>
                <td>{{item.title}}</td>
                <td><a href={{item.url}} target="_blank">{{item.url}}</a></td>
                <td>
                    <img src={{item.channelIcon}} alt="Icono del canal" class="img-fluid" width="80px" height="80px">
                    <span>{{item.channelName}}</span>
                </td>
              </tr>
            </tbody>
          </table>
    </div>
</section>